<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Variáveis (fleet_server.yml)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    .var-field { 
      display: flex; 
      gap: 10px; 
      align-items: center; 
      margin-bottom: 10px; 
    }
    .var-field input {
      flex: 1;
    }
    .remove-btn {
      background-color: #ff4d4d;
      border: none;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
    }
    .remove-btn:hover {
      background-color: #d93636;
    }
    #addVarBtn {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
    #addVarBtn:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Definir Variáveis Fleet Server - group_vars/fleet_server/fleet_server.yml</h1>

    <form id="varsForm">
      <div id="varsContainer">
        <!-- Campos padrão -->
        <div class="var-field">
          <label>fleet_server_port:</label>
          <input type="text" name="fleet_server_port" placeholder="8220" required>
        </div>
        <div class="var-field">
          <label>fleet_cert_dir:</label>
          <input type="text" name="fleet_cert_dir" placeholder="/etc/fleet_server/certs" required>
        </div>
        <div class="var-field">
          <label>fleet_server_cert:</label>
          <input type="text" name="fleet_server_cert" placeholder="/etc/fleet_server/certs/fleet_server.crt" required>
        </div>
        <div class="var-field">
          <label>fleet_server_key:</label>
          <input type="text" name="fleet_server_key" placeholder="/etc/fleet_server/certs/fleet_server.key" required>
        </div>
        <div class="var-field">
          <label>ca_cert_path:</label>
          <input type="text" name="ca_cert_path" placeholder="/etc/fleet_server/certs/elastic-stack-ca.crt" required>
        </div>
      </div>
      

      <button type="button" id="addVarBtn">+ Adicionar nova variável</button>
      <br><br>
      <button type="submit">Gerar fleet_server.yml</button>
    </form>
    
    <a href="/" class="secondary-button">Voltar ao inicio</a>

    <div id="response"></div>
  </div>

  <script src="{{ url_for('static', filename='fleetserver_variables.js') }}"></script>
</body>
</html>