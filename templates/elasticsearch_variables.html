<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Variáveis (Elasticsearch.yml)</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    .var-field { 
      display: flex; 
      gap: 10px; 
      align-items: center; 
      margin-bottom: 10px; 
    }
    .var-field input {
      flex: 1;
    }
    .remove-btn {
      background-color: #ff4d4d;
      border: none;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      cursor: pointer;
    }
    .remove-btn:hover {
      background-color: #d93636;
    }
    #addVarBtn {
      background-color: #007bff;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
    #addVarBtn:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Definir Variáveis Elasticsearch - group_vars/elasticsearch/elasticsearch.yml</h1>

    <form id="varsForm">
      <div id="varsContainer">
        <!-- Campos padrão -->
        <div class="var-field">
          <label>elasticsearch_config_dir:</label>
          <input type="text" name="elasticsearch_config_dir" placeholder="/etc/elasticsearch" required>
        </div>
        <div class="var-field">
          <label>elastic_cert_path:</label>
          <input type="text" name="elastic_cert_path" placeholder="/etc/elasticsearch/certs" required>
        </div>
      </div>

      <button type="button" id="addVarBtn">+ Adicionar nova variável</button>
      <br><br>
      <button type="submit">Gerar elasticsearch.yml</button>
    </form>
    
    <a href="/kibana_vars" class="secondary-button">Configurar Variáveis do all_vault</a>

    <div id="response"></div>
  </div>

  <script src="{{ url_for('static', filename='elasticsearch_variables.js') }}"></script>
</body>
</html>
